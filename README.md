# UsTrip · 我们的旅行小工具

UsTrip 是一个为「我和 Mabel 的台湾旅行」设计的轻量级网页工具，主要在手机浏览器上使用。  
重点不是订票、不是比价，而是帮我们把行程、想去的地点、待办事项和预算整理好，让旅行当天少一点混乱，多一点轻松。

> 定位  
> - 个人使用  
> - 情侣旅行  
> - 手机优先  
> - 支持离线浏览（数据存在浏览器 localStorage）

---

## 核心使用场景

- 规划台湾行程时  
  - 把每天要去的地方排好顺序  
  - 看看同一天里不同地点之间的距离  
  - 一键打开 Google Maps 导航

- 平时刷 YouTube 或 IG 时  
  - 看到想去的店、景点  
  - 先收藏起来  
  - 之后一键塞进某一天的行程

- 出发前  
  - 把行前待办和打包清单列好  
  - 不用开笔记软件找来找去

- 在台湾现场  
  - 用手机浏览器打开 UsTrip  
  - 查看当天时间轴  
  - 快速点击地图、估算花费

---

## 功能总览

### 1 行程总览与每日时间轴

- 按天管理行程
  - Day 1、Day 2…  
  - 每天可以设置日期、城市名称  
- 每日时间轴
  - 每个行程点包含  
    - 时间  
    - 类型  
      - 景点  
      - 美食  
      - 住宿  
      - 交通  
      - 其他  
    - 标题  
    - 地址  
    - 备注  
    - Google Maps 链接  
    - 经纬度  
- 自动计算同一天中连续地点之间的距离
  - 若连续两个行程点都填了经纬度  
  - 会显示「距上一点约 X km」  
  - 算的是地表直线距离（Haversine），不依赖任何外部 API  
- 每个行程点可一键打开地图  
  - 若提供了 Google Maps 链接  
  - 点击按钮直接在新标签页打开

### 2 收藏地点（愿望清单）

- 用来保存「想去的店、景点」
- 每条收藏包含
  - 名称  
  - 类型  
    - 美食  
    - 咖啡  
    - 景点  
    - 购物  
    - 其他  
  - 地址  
  - Google Maps 链接  
  - 经纬度  
  - 标签  
    - 例如「Mabel 想去」「YouTuber 推荐」  
  - 备注  
- 支持一键加入行程
  - 点击「加入行程」后  
  - 弹出简易选择  
    - 选择要加到第几天  
    - 可填写时间  
  - 自动在对应日期创建一个行程点  
  - 会带上收藏里已有的信息（名称、地址、地图、经纬度等）

### 3 清单模块

分为两类清单

- 行前待办
  - 购买旅游保险  
  - 兑换台币  
  - 确认机票和酒店订单  
  - 安排机场接送等  
- 打包清单
  - 护照和证件复印件  
  - 充电器和插头转换头  
  - 日常药物  
  - 化妆品  
  - 各种电子设备  

特性

- 每一条可打勾标记完成
- 支持随时新增自定义项目
- 所有状态存入 localStorage，不随刷新丢失

### 4 汇率和小换算器

- 手动设置基础汇率
  - 例如  
    - 本币 MYR  
    - 当地货币 TWD  
    - 1 TWD = 0.15 MYR（示例）  
- 支持临场换算
  - 输入一个台币金额  
  - 立即显示约等于多少马币  
- 用途
  - 夜市消费估算  
  - 简单判断一顿饭是否超预算  

---

## 交互与布局设计（手机优先）

- 单栏纵向布局
  - 适配手机屏幕  
  - 内容区域宽度最大约 480px  
- 顶部区域
  - 显示项目名称 UsTrip  
  - 副标题显示本次旅行说明  
    - 例如「我们的台湾旅行」  
  - 显示当前汇率  
  - 提供「编辑行程信息」入口  
    - 修改主标题、副标题、出发日期、结束日期  
- 底部导航栏
  - 固定吸附在底部  
  - 四个 Tab
    - 行程  
    - 收藏  
    - 清单  
    - 汇率  
  - 手指易点、单手操作友好  

---

## 数据存储与离线行为

- 所有数据存储在浏览器 localStorage
  - 行程信息  
  - 每日行程点  
  - 收藏地点  
  - 待办清单和打包清单  
  - 汇率设置  
- 特点
  - 不需要服务器  
  - 不需要登录  
  - 刷新页面数据不丢  
- 限制
  - 换设备或换浏览器，数据不会自动同步  
  - 删除浏览器数据则会清空  

---

## 技术和实现方向

- 前端
  - 纯 HTML、CSS、原生 JavaScript  
  - 单页面应用（不依赖框架）  
- 距离计算
  - 使用 Haversine 公式计算地表直线距离  
  - 完全在本地执行  
- 外部依赖
  - 不依赖后端服务  
  - 不强制接入第三方 API  
  - 打开 Google Maps 仅通过普通链接跳转  

---

## 未来可能扩展的功能（可选）

- 接入地图服务的路线距离与时间
  - 例如 Google Distance Matrix API  
  - 显示开车或搭车的实际时间与路程  
  - 当前版本先使用本地直线距离计算  
- 导出功能
  - 导出为 PDF  
  - 导出为 iOS 日历或 Google 日历事件  
- 多旅行项目管理
  - 不只台湾一趟  
  - 支持多个旅行档案  
    - UsTrip 台湾  
    - UsTrip 日本  
    - UsTrip 韩国  
- 主题和皮肤
  - 不同目的地使用不同视觉主题  
  - 例如台湾主题色、图标等  

---

## 本项目的目标总结

- 为我和 Mabel 提供一个专属的旅行计划工具  
- 不做复杂社区或商业功能  
- 聚焦在以下几件事
  - 行程一目了然  
  - 地点之间大致距离心里有数  
  - 想去的店不会忘  
  - 行前准备不遗漏  
  - 花钱时对金额有基本换算概念  

这个 README 用来说明需求和目标，方便后续开发、维护和升级。  
后续若有新想法，可以在本文件的「未来扩展」部分补充。  
